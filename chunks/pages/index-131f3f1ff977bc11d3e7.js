(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{25668:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return b}});var t=s(85893),r=s(809),a=s.n(r),c=s(30266),i=s(9008),o=s(25675),u=s(3283),d=s.n(u),l=new(d())(d().givenProvider||"wss://mainnet.infura.io/ws/v3/28696900a2cf490eb160741dc63e4707"),h=s(67294),f=s(95565),p=s(26143),m=new p.ZP({provider:l.currentProvider,ensAddress:(0,p.OL)("1")}),x=function(e){var n=e.address,s=(0,h.useState)(),r=s[0],i=s[1],o=(0,h.useState)(),u=o[0],d=o[1];(0,h.useEffect)((0,c.Z)(a().mark((function e(){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getName(n);case 2:(s=e.sent).name&&i(s.name);case 4:case"end":return e.stop()}}),e)}))),[n]),(0,h.useEffect)((0,c.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,m.name(r).getText("avatar");case 3:(n=e.sent)&&d(n);case 5:case"end":return e.stop()}}),e)}))),[r]);var l=n.substr(0,8)+"..."+n.substr(-4),p=(0,t.jsx)(f.ZP,{diameter:"32",seed:(0,f.Ds)(n)});return(0,t.jsxs)("div",{className:"eth-name",children:[(0,t.jsx)("div",{className:"icon",children:u?(0,t.jsx)("img",{src:u}):p}),(0,t.jsxs)("div",{className:"name",children:[(0,t.jsx)("span",{className:"primary",children:r||l}),(0,t.jsx)("span",{className:"secondary",children:r?l:""})]})]})},j=function(e){var n=e.accounts,s=e.isLoggedIn,r=e.connect;return s?(0,t.jsx)(x,{address:n[0]}):(0,t.jsx)("button",{onClick:r,children:"Connecter un wallet"})},v=(s(52574),function(e){var n=e.isLoggedIn,s=e.accounts,r=e.address;return s[0]==r?(0,t.jsx)("button",{disabled:!0,children:"This is you"}):(0,t.jsx)("button",{disabled:!n,onClick:function(){if(n){var e=l.utils.toWei("0.01","ether");window.ethereum.request({method:"eth_sendTransaction",params:[{from:s[0],to:r,value:l.utils.toHex(e)}]})}else alert("S'il vous pla\xeet connecter un portefeuille")},children:"Envoyer 0.01 ETH"})}),g=function(e){var n=e.number,s=e.answer,r=e.accounts,a=e.isLoggedIn,c={__html:s.reply};return(0,t.jsxs)("div",{className:"answer",children:[(0,t.jsxs)("h3",{children:["Reply #",n]}),(0,t.jsx)("div",{className:"main",dangerouslySetInnerHTML:c}),(0,t.jsxs)("div",{className:"meta",children:[(0,t.jsx)(x,{address:s.account}),(0,t.jsx)(v,{isLoggedIn:a,accounts:r,address:s.account})]})]})},w=s(21232),N=function(e){var n=e.accounts,s=e.setAnswers,r=e.isLoggedIn,i=(0,h.useState)(""),o=i[0],u=i[1],d=function(){var e=(0,c.Z)(a().mark((function e(t){var r,c,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r="C'est pour v\xe9rifier si c'est bien vous !",e.next=4,l.eth.personal.sign(r,n[0]);case 4:c=e.sent,i={questionId:1,reply:o,account:n[0],confirmationMessage:r,signedMessage:c},fetch("/api/answers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){s((function(n){return[].concat((0,w.Z)(n),[e])})),u("")})).catch((function(e){console.error(e)}));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,t.jsxs)("form",{onSubmit:d,className:"answer-form",children:[(0,t.jsx)("textarea",{placeholder:"S'il vous pla\xeet, soyez courtois dans vos r\xe9ponses",value:o,onChange:function(e){return u(e.target.value)}}),(0,t.jsx)("button",{disabled:!r,children:"R\xe9pondre"})]})};function b(){var e=(0,h.useState)([]),n=e[0],s=e[1],r=(0,h.useState)(!1),u=r[0],d=r[1],l=(0,h.useState)(!0),f=l[0],p=l[1],m=(0,h.useState)([]),x=m[0],v=m[1],w=function(){var e=(0,c.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:n=e.sent,s(n),n.length>0?d(!0):d(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,h.useEffect)((function(){n.length>0?d(!0):d(!1)}),[n]),(0,h.useEffect)((0,c.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_accounts"});case 2:n=e.sent,s(n),window.ethereum.on("accountsChanged",(function(e){s(e)})),fetch("/api/answers").then((function(e){return e.json()})).then((function(e){v(e.answers),p(!1)}));case 6:case"end":return e.stop()}}),e)}))),[]);var b=(0,t.jsx)("div",{className:"loading",children:"Loading answers..."});return f||(b=x.map((function(e,s){return(0,t.jsx)(g,{number:s+1,answer:e,accounts:n,isLoggedIn:u})}))),(0,t.jsxs)("main",{children:[(0,t.jsxs)("header",{children:[(0,t.jsx)("h1",{children:"PotShop"}),(0,t.jsx)(j,{accounts:n,isLoggedIn:u,connect:w})]}),(0,t.jsxs)("section",{className:"question",children:[(0,t.jsxs)("div",{className:"main",children:[(0,t.jsx)("h3",{children:"r/poterie #1"}),(0,t.jsx)("h2",{children:"Besoin de conseil pour un d\xe9butant"}),(0,t.jsx)("p",{children:"Bonjour \xe0 tous ! Je suis nouveau dans le monde de la poterie et jaimerai conna\xeetre quelque petite technique. Et si vous aviez des retours \xe0 faire sur ma premi\xe8re cr\xe9ation"}),(0,t.jsxs)("div",{className:"slides",children:[(0,t.jsx)(o.default,{src:"/image-1.jpg",width:"600",height:"800",alt:"picture"}),(0,t.jsx)(o.default,{src:"/image-2.jpg",width:"600",height:"800",alt:"picture"}),(0,t.jsx)(o.default,{src:"/image-3.jpg",width:"600",height:"800",alt:"picture"}),(0,t.jsx)(o.default,{src:"/image-4.jpg",width:"600",height:"800",alt:"picture"})]})]}),(0,t.jsx)("div",{className:"meta",children:(0,t.jsx)("div",{className:"eth-name",children:(0,t.jsxs)("div",{className:"name",children:[(0,t.jsx)("span",{className:"primary",children:"pinot.eth"}),(0,t.jsx)("span",{className:"secondary",children:"0xAE6DcE18...f8B8"})]})})})]}),(0,t.jsxs)("section",{className:"answers",children:[b,(0,t.jsx)(N,{accounts:n,setAnswers:v,isLoggedIn:u})]}),(0,t.jsxs)(i.default,{children:[(0,t.jsx)("title",{children:" PotShop "}),(0,t.jsx)("meta",{property:"og:title",content:"Looking for feedback as a beginner on Potstop"}),(0,t.jsx)("meta",{property:"og:description",content:"This is a project on the SuperHi Crypto + Web3 for Creatives course"}),(0,t.jsx)("meta",{property:"og:image",content:"/social.png"})]})]})}},78581:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(25668)}])},46601:function(){},89214:function(){},71922:function(){},2363:function(){},27790:function(){},52361:function(){},94616:function(){},6567:function(){}},function(e){e.O(0,[774,482,588,888,179],(function(){return n=78581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);